{% load static %}
<style>
    /* Overlay to cover the entire page */
    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.9); /* Slightly more opaque for better readability */
        z-index: 9999; /* Ensure it's above all content */
        display: flex;
        justify-content: center;
        align-items: center;
        transition: opacity 0.5s ease, visibility 0.5s ease;
        opacity: 1;
        visibility: visible;
    }

    .overlay.hidden {
        opacity: 0;
        visibility: hidden;
    }

    .spinner {
        display: flex;
        flex-direction: column;
        align-items: center;
        animation: pulse 1s infinite ease-in-out;
    }

    .spinner img {
        width: 150px; /* Slightly reduced size for aesthetics */
    }

    .spinner span {
        margin-top: 10px;
        font-size: 1.2rem;
        font-weight: bold;
        color: #555; /* Subtle color for better UI */
    }

    @keyframes pulse {
        0%, 100% {
            transform: scale(0.9);
        }
        50% {
            transform: scale(1.1);
        }
    }
</style>

<div class="overlay" id="overlay">
    <div class="spinner">
        <img src="{% static 'website_portal/image/logo2.png' %}" alt="Loading Logo">
        <span>Loading...</span> <!-- Accessible text for screen readers -->
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const overlay = document.getElementById('overlay');
        const content = document.body;

        // Hide overlay after the content is fully loaded
        window.addEventListener('load', () => {
            overlay.classList.add('hidden');
            setTimeout(() => {
                overlay.style.display = 'none'; // Ensure it doesn't take up space after hiding
                content.style.display = 'block'; // Display the content
            }, 500); // Match the transition duration
        });
    });
</script>
